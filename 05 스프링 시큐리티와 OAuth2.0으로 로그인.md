스프링 시큐리티와 OAuth2.0으로 로그인
=======================
# 1. 스프링 시큐리티와 스프링 시큐리티 Oauth2 클라이언트
왜 많은 서비스에서 소셜 로그인을 사용할까? 이동욱 저자님의 생각으로는 **배보다 배꼽이 커지는 경우**라 하셨다.      
   
직접 구현한다면 다음을 전부 구현해야한다.        
* 로그인 시 보안 
* 비밀번호 찾기
* 비밀번호 변경
* 회원정보 변경
* 회원가입시 이메일 혹은 전화번호 인증
    
그렇기에 OAuth2 로그인 구현을하면 앞선 목록을 소셜 기업에 맡기고 서비스에만 집중할 수 있다.       
  
## 1.1. 스프링부트 1.5 vs 스프링 부트 2.0  
스프링 부트 1.5에서의 OAuth2 연동 방법이 2.0에서는 크게 변경되었다.  
하지만 ```spring-security-oauth2-autoconfigure``` 라이브러리 덕분에 **설정 방법의 큰 차이를 없게 할 수 있다**   
```
spring-security-oauth2-autoconfigure
```
해당 라이브러리를 사용할 경우 스프링 부트2에서도 기존 설정을 그대로 사용할 수 있다.   
아무래도 새로운 방식보다는 기존에 안전하게 작동하는 방법이 확실하므로 많은 개발자가 해당 방식을 이용했다.  
    
**하지만**    
우리는 스프링 부트2 방식인 ```Spring Security Oauth2 Client``` 라이브러리를 사용할 것이고    
이유는 아래와 같다.  

* 스프링 팀에서 기존 1.5에서 사용되던 spring-security-oauth 프로젝트는 유지 상태로 경정했으며   
더는 신규 기능은 추가하지 않고 버그 수정 정도의 기능만 추가될 예정이다.   
즉, 신규 기능은 oauth2 라이브러리에서만 지원하겠다고 선언한 것이다.  
* 스프링 부트용 라이브러리(starter)가 출시 되었다.  
* 기존에 사용되던 방식은 확장 포인트가 적절하게 오픈되어 있지 않아 직접 상속하거나 오버라이딩 해야 하고 
신규 라이브러리의 경우 확장 포인트를 고려해서 설계된 상태이다.    
   
그렇기에 이제 새롭게 배우는 학생 입장에서는 스프링 부트2 방식으로 배우는 것이 좀 더 나을 것이다.   
      
**추가 이야깃거리**   
스프링 부트2 방식의 자료를 찾고 싶은 경우 인터넷 자료들 사이에서 다음 2가지만 확인하면 된다.  
1. spring-security-oauth2-autoconfigure 라이브러리를 사용했는지  
2. application.properties 혹은 application.yml 정보가 다음 사진과 같이 차이가 있는지  
   
[사진]   
   
스프링 부트 1.5 방식에서는 url 주소를 모두 명시해야 하지만,     
스프링 부트 2.0 방식에서는 client 인증 정보만 입력하면 된다.      
     
1.5 버전에서 직접 입력했던 값들은 2.0 버전으로 오면서 모두 **enum**으로 대체되었다.     
**CommonOAuth2Provider**라는 enum이 새롭게 추가되어 구글, 깃허브, 페이스북, 옥타의 기본 설정값은 모두 여기서 제공한다.    
이외에 다른 소셜 로그인을 추가한다면 직접 다 추가해 주어야 한다.  

## 1.2. 

## 1.3. application-oauth 등록  
```application.properties```가 있는 src/main/resources/디렉토리에       
```application-oauth.properties``` 파일을 생성한다.           
그리고 해당 파일에 클라이언트ID와 클라이언트 보안 비밀 코드를 다음과 같이 등록한다.       
    
```
```

***
# 2. 대주제
> 인용
## 2.1. 소 주제
### 2.1.1. 내용1
```
내용1
```   

***
# 3. 대주제
> 인용
## 3.1. 소 주제
### 3.1.1. 내용1
```
내용1
```
